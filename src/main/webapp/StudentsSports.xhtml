<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core"
>
<h:head/>
<h:body>
    <h2>#{studentsSports.student.name} #{studentsSports.student.surname} sports:</h2>
    <h:form>
        <ol>
            <ui:repeat value="#{studentsSports.student.sports}" var="sport">
                <li>
                    <h:link value="#{sport.name}" outcome="SportsStudents?sportId=#{sport.id}"/>
                    <h:commandButton value="Remove sport"
                                     action="#{'StudentsSports?faces-redirect=true&amp;studentId='.concat(studentsSports.student.id)}">
                        <f:actionListener binding="#{studentsSports.setSportToRemoveId(sport.id)}"/>
                        <f:actionListener binding="#{studentsSports.removeSport()}"/>
                        <f:param name="studentId" value="#{studentsSports.student.id}"/>
                    </h:commandButton>
                </li>
            </ui:repeat>
        </ol>
    </h:form>
    <h:form>All Sports:
        <ol>
            <ui:repeat value="#{sports.allSports}" var="sport">
                <li><h:link value="#{sport.name}" outcome="SportsStudents?sportId=#{sport.id}"/></li>
                <h:commandButton value="Add sport"
                                 action="#{'StudentsSports?faces-redirect=true&amp;studentId='.concat(studentsSports.student.id)}">
                    <f:actionListener binding="#{studentsSports.setSportToAddId(sport.id)}"/>
                    <f:actionListener binding="#{studentsSports.addSport()}"/>
                    <f:param name="studentId" value="#{studentsSports.student.id}"/>
                </h:commandButton>
            </ui:repeat>
        </ol>
    </h:form>
</h:body>
</html>